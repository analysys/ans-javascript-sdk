!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).DecodeGBK={})}(this,function(e){"use strict";var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(){}t.prototype.paramType=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},t.prototype.objHasKay=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.prototype.ArrayToObj=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]="";return t},t.prototype.keyValueToObje=function(e,t){var n={};return n[e]=t,n},t.prototype.toDeepObj=function(e,t){var n={};if("String"===this.paramType(e))return n=this.keyValueToObje(e,t);if("Array"===this.paramType(e))return n=this.ArrayToObj(e);if("Object"===this.paramType(e))for(var r in e)n[r]=this.toDeepObj(e[r]);return n},t.prototype.toObj=function(e,t){var n={};return"String"===this.paramType(e)?n=this.keyValueToObje(e,t):"Array"===this.paramType(e)?n=this.ArrayToObj(e):"Object"===this.paramType(e)?e:n},t.prototype.objMerge=function(e,t){if("Object"!==this.paramType(e)||"Object"!==this.paramType(t))return e;var n={};for(var r in e)n[r]=e[r];for(var o in t){var a=t[o],i=n[o],c=this.paramType(a),p=this.paramType(i);n[o]=i&&"Object"===p&&"Object"===c?this.objMerge(i,a):"Array"===p&&"Array"===c?this.arrayMergeUnique(i,a):"Function"===c&&"Function"===p?this.compose(i,a):a}return n},t.prototype.compose=function(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},t.prototype.fnMerge=function(e,t){return this.objMerge(e,t)},t.prototype.arrayUnique=function(e){for(var t=[],n={},r=0;r<e.length;r++)n[e[r]]||(n[e[r]]=!0,t.push(e[r]));return t},t.prototype.arrayMerge=function(e,t){return e.push.apply(e,t),e},t.prototype.arrayMergeUnique=function(e,t){return e.push.apply(e,t),this.arrayUnique(e)},t.prototype.encode=function(e){var t,n,r,o,a,i,c,p="",u=0;for(e=function s(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e);u<e.length;)o=(t=e.charCodeAt(u++))>>2,a=(3&t)<<4|(n=e.charCodeAt(u++))>>4,i=(15&n)<<2|(r=e.charCodeAt(u++))>>6,c=63&r,isNaN(n)?i=c=64:isNaN(r)&&(c=64),p=p+l.charAt(o)+l.charAt(a)+l.charAt(i)+l.charAt(c);return p},t.prototype.decode=function(e){var t,n,r,o,a,i,c="",p=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");p<e.length;)t=l.indexOf(e.charAt(p++))<<2|(o=l.indexOf(e.charAt(p++)))>>4,n=(15&o)<<4|(a=l.indexOf(e.charAt(p++)))>>2,r=(3&a)<<6|(i=l.indexOf(e.charAt(p++))),c+=String.fromCharCode(t),64!==a&&(c+=String.fromCharCode(n)),64!==i&&(c+=String.fromCharCode(r));return c=function u(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):191<r&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a),n+=3);return t}(c)},t.prototype.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},t.prototype.format=function(e,t){var n=e.getTimezoneOffset(),r={"M+":(e=new Date(e.getTime()+60*n*1e3+288e5)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,3===RegExp.$1.length?(""+r[o]).length<3?("00"+r[o]).substr(("00"+r[o]).length-3,("00"+r[o]).length):r[o]:("00"+r[o]).substr((""+r[o]).length)));return t},t.prototype.MD5=function(e,t){function p(e,t){return e<<t|e>>>32-t}function u(e,t){var n,r,o,a,i;return o=2147483648&e,a=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^o^a:n|r?1073741824&i?3221225472^i^o^a:1073741824^i^o^a:i^o^a}function n(e,t,n,r,o,a,i){return e=u(e,u(u(function c(e,t,n){return e&t|~e&n}(t,n,r),o),i)),u(p(e,a),t)}function r(e,t,n,r,o,a,i){return e=u(e,u(u(function c(e,t,n){return e&n|t&~n}(t,n,r),o),i)),u(p(e,a),t)}function o(e,t,n,r,o,a,i){return e=u(e,u(u(function c(e,t,n){return e^t^n}(t,n,r),o),i)),u(p(e,a),t)}function a(e,t,n,r,o,a,i){return e=u(e,u(u(function c(e,t,n){return t^(e|~n)}(t,n,r),o),i)),u(p(e,a),t)}function i(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,s,l,d,f,h,y,g,v,m;for(c=function w(e){for(var t,n=e.length,r=n+8,o=16*(1+(r-r%64)/64),a=Array(o-1),i=0,c=0;c<n;)i=c%4*8,a[t=(c-c%4)/4]=a[t]|e.charCodeAt(c)<<i,c++;return i=c%4*8,a[t=(c-c%4)/4]=a[t]|128<<i,a[o-2]=n<<3,a[o-1]=n>>>29,a}(e),y=1732584193,g=4023233417,v=2562383102,m=271733878,s=0;s<c.length;s+=16)y=n(l=y,d=g,f=v,h=m,c[s+0],7,3614090360),m=n(m,y,g,v,c[s+1],12,3905402710),v=n(v,m,y,g,c[s+2],17,606105819),g=n(g,v,m,y,c[s+3],22,3250441966),y=n(y,g,v,m,c[s+4],7,4118548399),m=n(m,y,g,v,c[s+5],12,1200080426),v=n(v,m,y,g,c[s+6],17,2821735955),g=n(g,v,m,y,c[s+7],22,4249261313),y=n(y,g,v,m,c[s+8],7,1770035416),m=n(m,y,g,v,c[s+9],12,2336552879),v=n(v,m,y,g,c[s+10],17,4294925233),g=n(g,v,m,y,c[s+11],22,2304563134),y=n(y,g,v,m,c[s+12],7,1804603682),m=n(m,y,g,v,c[s+13],12,4254626195),v=n(v,m,y,g,c[s+14],17,2792965006),y=r(y,g=n(g,v,m,y,c[s+15],22,1236535329),v,m,c[s+1],5,4129170786),m=r(m,y,g,v,c[s+6],9,3225465664),v=r(v,m,y,g,c[s+11],14,643717713),g=r(g,v,m,y,c[s+0],20,3921069994),y=r(y,g,v,m,c[s+5],5,3593408605),m=r(m,y,g,v,c[s+10],9,38016083),v=r(v,m,y,g,c[s+15],14,3634488961),g=r(g,v,m,y,c[s+4],20,3889429448),y=r(y,g,v,m,c[s+9],5,568446438),m=r(m,y,g,v,c[s+14],9,3275163606),v=r(v,m,y,g,c[s+3],14,4107603335),g=r(g,v,m,y,c[s+8],20,1163531501),y=r(y,g,v,m,c[s+13],5,2850285829),m=r(m,y,g,v,c[s+2],9,4243563512),v=r(v,m,y,g,c[s+7],14,1735328473),y=o(y,g=r(g,v,m,y,c[s+12],20,2368359562),v,m,c[s+5],4,4294588738),m=o(m,y,g,v,c[s+8],11,2272392833),v=o(v,m,y,g,c[s+11],16,1839030562),g=o(g,v,m,y,c[s+14],23,4259657740),y=o(y,g,v,m,c[s+1],4,2763975236),m=o(m,y,g,v,c[s+4],11,1272893353),v=o(v,m,y,g,c[s+7],16,4139469664),g=o(g,v,m,y,c[s+10],23,3200236656),y=o(y,g,v,m,c[s+13],4,681279174),m=o(m,y,g,v,c[s+0],11,3936430074),v=o(v,m,y,g,c[s+3],16,3572445317),g=o(g,v,m,y,c[s+6],23,76029189),y=o(y,g,v,m,c[s+9],4,3654602809),m=o(m,y,g,v,c[s+12],11,3873151461),v=o(v,m,y,g,c[s+15],16,530742520),y=a(y,g=o(g,v,m,y,c[s+2],23,3299628645),v,m,c[s+0],6,4096336452),m=a(m,y,g,v,c[s+7],10,1126891415),v=a(v,m,y,g,c[s+14],15,2878612391),g=a(g,v,m,y,c[s+5],21,4237533241),y=a(y,g,v,m,c[s+12],6,1700485571),m=a(m,y,g,v,c[s+3],10,2399980690),v=a(v,m,y,g,c[s+10],15,4293915773),g=a(g,v,m,y,c[s+1],21,2240044497),y=a(y,g,v,m,c[s+8],6,1873313359),m=a(m,y,g,v,c[s+15],10,4264355552),v=a(v,m,y,g,c[s+6],15,2734768916),g=a(g,v,m,y,c[s+13],21,1309151649),y=a(y,g,v,m,c[s+4],6,4149444226),m=a(m,y,g,v,c[s+11],10,3174756917),v=a(v,m,y,g,c[s+2],15,718787259),g=a(g,v,m,y,c[s+9],21,3951481745),y=u(y,l),g=u(g,d),v=u(v,f),m=u(m,h);return 32===t?i(y)+i(g)+i(v)+i(m):i(g)+i(v)},t.prototype.clientTimeZone=function(){var e=(new Date).getTimezoneOffset(),t=parseInt(e/60),n=e%60,r="-";return(t<=0||n<0)&&(r="+",t=-t,n<0&&(n=-n)),1===(t+="").length&&(t="0"+t),1===(n+="").length&&(n="0"+n),r+t+":"+n},t.prototype.delEmpty=function(e){var t={};for(var n in e){var r=!0,o=this.paramType(e[n]);"Object"!==o?(e[n]||"Number"===o&&!isNaN(e[n])||"Boolean"===o||(r=!1),!0===r&&(t[n]=e[n])):t[n]=this.delEmpty(e[n])}for(var a in t){var i=[];for(var c in t[a])i.push(t[a][c]);0===i.length&&t[a].constructor===Object&&delete t[a]}return t},t.prototype.addEvent=function(e,t,n,r){if(document.addEventListener)if("Array"===this.paramType(e)&&e.length&&e!==window)for(var o=0;o<e.length;o++)this.addEvent(e[o],t,n,r);else e.addEventListener(t,n,r);else if(e.length&&e!==window)for(var a=0;a<e.length;a++)this.addEvent(e[a],t,n);else e.attachEvent("on"+t,function(){return n.call(e,window.event)})},t.prototype.removeEvent=function(e,t,n,r){if(document.removeEventListener)if(e.length)for(var o=0;o<e.length;o++)this.removeEvent(e[o],t,n,r);else e.removeEventListener(t,n,r);else if(e.length)for(var a=0;a<e.length;a++)this.removeEvent(e[a],t,n);else e.detachEvent("on"+t,function(){return n.call(e,window.event)})},t.prototype.addWindowEvent=function(r){var o=window.history[r];return function(){var e=o.apply(this,arguments);if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent(r,!0,!0),t.arguments=arguments,window.dispatchEvent(t)}else{var n=document.createEventObject();n.arguments=arguments,document.fireEvent("on"+r,n)}return e}},t.prototype.extend=function(e,t){var n=function n(){};n.prototype=t.prototype,e.prototype=new n,(e.prototype.constructor=e).superclass=t.prototype,t.prototype.constructor===Object.prototype.constructor&&(t.prototype.constructor=t)},t.prototype.addEleLable=function(e,t,n,r){var o=document,a=o.createElement(e),i=r||o.body||o.getElementsByTagName("body")[0];return n&&(a.id=n),t&&(a.className=t),i.appendChild(a),a},t.prototype.addScript=function(e,t,n){var r=document,o=r.createElement("script"),a=r.getElementsByTagName("script");o.type="text/javascript",o.async=!0,o.id=e;var i="";if(t)i="/"===t.charAt(t.length-1)?t:t+"/";else if(r.getElementById("ARK_SDK"))i=r.getElementById("ARK_SDK").src;else for(var c=0;c<a.length;c++)if(a[c].src&&-1<a[c].src.indexOf("AnalysysAgent_JS_SDK")){i=a[c].src;break}var p=i.substring(0,i.lastIndexOf("/")+1);o.src=p+e+".min.js?v="+this.format(new Date,"yyyyMMddhhmm"),o.onload=n,a[0].parentNode.insertBefore(o,a[0])},t.prototype.GetUrlParam=function(e){var t,n=document.location.toString().split("?");if(1<n.length){for(var r,o=[],a=1;a<n.length;a++)o.push.apply(o,n[a].split("&"));for(var i=0;i<o.length;i++)if(null!=(r=o[i].split("="))&&r[0]===e){var c=r[1];if(-1<r[1].indexOf("#")&&(c=c.split("#")[0]),-1<c.indexOf("%")){try{var p=decodeURI(c);if(t=p,new RegExp("[\\u4E00-\\u9FFF]+","g").test(t))return p}catch(u){}if("Object"===this.paramType(window.AnalysysModule)&&"Function"===this.paramType(window.AnalysysModule.decodeGBK))try{return window.AnalysysModule.decodeGBK(c,"gbk")}catch(u){}}return c}return""}return""},t.prototype.stringSlice=function(e,t){return e.slice(0,t)},t.prototype.trim=function(e){return"String"===this.paramType(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},t.prototype.changeHash=function(e){var t=window.history.pushState,n=window.history.replaceState;window.history.pushState=function(){t.apply(window.history,arguments),e.apply(e)},window.history.replaceState=function(){n.apply(window.history,arguments),e.apply(e)};var r;"on"+(r=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&this.addEvent(window,r,function(){setTimeout(e,0)})},t.prototype.deviceType=function(){var e=navigator.userAgent;return-1<e.indexOf("Tablet")&&e.indexOf("PC")<0||-1<e.indexOf("Pad")||-1<e.indexOf("Nexus 7")?"tablet":-1<e.indexOf("Mobi")||-1<e.indexOf("iPh")||-1<e.indexOf("480")?"phone":"desktop"},t.prototype.checkTypeList=function(e,t){var n=this.paramType(e);if("String"===n){var r=window.location.href,o=window.location.protocol+"//"+window.location.host,a=o+window.location.pathname;if(-1<[r,o,a+"index.html",a,a+window.location.hash].indexOf(e))return!0}else{if("Function"===n)return e.call(e,t);if("Array"===n)for(var i=0;i<e.length;i++)if(!0===this.checkTypeList(e[i],t))return!0}return!1},t.prototype.selectorAllEleList=function(e){var t=[],n=e.split(".")[0];if("Function"===this.paramType(document.querySelectorAll)&&e.indexOf("|")<0)return document.querySelectorAll(e);var r="";if(-1<e.indexOf("#")){r=e.split(".")[0].split("#")[1];var o=document.getElementById(r);o&&t.push(o)}else{if(e.indexOf(".")<0)return document.getElementsByTagName(n);if(-1<e.indexOf("[")&&-1<e.indexOf("]"))for(var a=document.getElementsByTagName("*"),i=e.replace("[","").replace("]",""),c=0;c<a.length;c++){var p=a[c].getAttribute(i);"String"===this.paramType(p)&&t.push(o)}else for(var u=document.getElementsByTagName(n),s=0;s<u.length;s++){var l=u[s],d=l.className?l.className.split(" "):[];0<d.length&&-1<(n+"."+d.join(".")).indexOf(e)&&t.push(l)}}return t};var r=new t;function n(e){var t=+new Date;!1===u&&(p=t-c+p);var n=Number(t-i-p);n<0&&(n=Number(t-i)),window.AnalysysAgent&&window.AnalysysAgent.track?(window.AnalysysAgent.track("page_close",{pageStayTime:n,$url:s,$title:d}),"Function"===r.paramType(e)&&e.call(e,null)):console.log("Analsysy JS SDK not init!"),o()}function o(e,t){var n=+new Date;c=i=e||n,u=!(p=0),s=window.location.href,d=1<arguments.length?t:document.title}var a=+new Date,i=a,c=a,p=0,u=!0,s=window.location.href,d=document.title,f=!0;function h(e){"Object"===r.paramType(e)&&"Boolean"===r.paramType(e.autoPageClose)&&(f=e.autoPageClose)}"onpageShow"in window?(r.addEvent(window,"pageShow",function(){i=c=+new Date}),r.addEvent(window,"pagehide",function(){!0===f&&n()})):(r.addEvent(window,"load",function(){i=c=+new Date}),r.addEvent(window,"beforeunload",function(){!0===f&&n()})),"onvisibilitychange"in document&&r.addEvent(document,"visibilitychange",function(){document.hidden?(u=!1,c=+new Date):(u=!0,p=new Date-c+p)}),window.AnalysysModule=r.objMerge(window.AnalysysModule||{},{pageClose:{Version:"4.4.0.6",pageEndTrack:n,init:h,createTime:o}}),e.pageCloseInit=h,e.pageEndTrack=n,Object.defineProperty(e,"__esModule",{value:!0})});
